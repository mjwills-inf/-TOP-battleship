!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="dist",r(r.s=6)}([function(e,t,r){"use strict";var n,a=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},i=function(){var e={};return function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(e){r=null}e[t]=r}return e[t]}}(),o=[];function c(e){for(var t=-1,r=0;r<o.length;r++)if(o[r].identifier===e){t=r;break}return t}function d(e,t){for(var r={},n=[],a=0;a<e.length;a++){var i=e[a],d=t.base?i[0]+t.base:i[0],u=r[d]||0,s="".concat(d," ").concat(u);r[d]=u+1;var l=c(s),p={css:i[1],media:i[2],sourceMap:i[3]};-1!==l?(o[l].references++,o[l].updater(p)):o.push({identifier:s,updater:h(p,t),references:1}),n.push(s)}return n}function u(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var a=r.nc;a&&(n.nonce=a)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var o=i(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var s,l=(s=[],function(e,t){return s[e]=t,s.filter(Boolean).join("\n")});function p(e,t,r,n){var a=r?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=l(t,a);else{var i=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function f(e,t,r){var n=r.css,a=r.media,i=r.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),i&&btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var m=null,g=0;function h(e,t){var r,n,a;if(t.singleton){var i=g++;r=m||(m=u(t)),n=p.bind(null,r,i,!1),a=p.bind(null,r,i,!0)}else r=u(t),n=f.bind(null,r,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(r)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=a());var r=d(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<r.length;n++){var a=c(r[n]);o[a].references--}for(var i=d(e,t),u=0;u<r.length;u++){var s=c(r[u]);0===o[s].references&&(o[s].updater(),o.splice(s,1))}r=i}}}},function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var a=(o=n,c=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),d="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(d," */")),i=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[r].concat(i).concat([a]).join("\n")}var o,c,d;return[r].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(r,"}"):r})).join("")},t.i=function(e,r,n){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(n)for(var i=0;i<this.length;i++){var o=this[i][0];null!=o&&(a[o]=!0)}for(var c=0;c<e.length;c++){var d=[].concat(e[c]);n&&a[d[0]]||(r&&(d[2]?d[2]="".concat(r," and ").concat(d[2]):d[2]=r),t.push(d))}},t}},function(e,t,r){var n=r(0),a=r(3);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1};n(a,i);e.exports=a.locals||{}},function(e,t,r){(t=r(1)(!1)).push([e.i,'html{-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box}*,*:before,*:after{-webkit-box-sizing:inherit;-moz-box-sizing:inherit;box-sizing:inherit}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:"";content:none}table{border-collapse:collapse;border-spacing:0}',""]),e.exports=t},function(e,t,r){var n=r(0),a=r(5);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1};n(a,i);e.exports=a.locals||{}},function(e,t,r){(t=r(1)(!1)).push([e.i,'.rendered-grid-div{display:grid;grid-template-columns:repeat(10, 1fr);grid-template-rows:repeat(10, 1fr);width:350px;height:350px;background-color:#19535f;margin:5px;border:3px solid #7b673a;border-radius:3px}.rendered-grid-div .tile-div{border-radius:3px;border:#000 solid 1px;display:flex;align-items:center;justify-content:center}.rendered-grid-div .occupied{background-color:#7b2d26;border:#d7c9aa solid 1px}.rendered-grid-div .hit{background:#7b2d26;border:1px solid #d7c9aa}.rendered-grid-div .miss span{background:#d7c9aa;border-radius:50%;height:10px;width:10px}.rendered-grid-div [data-sec-ref="0"]{cursor:pointer}body{background-color:#f0f3f5;font-family:"Courier New",Courier,monospace}#page-container{height:100vh}@media(min-width: 1080px){#page-container{padding:40px}}@media(min-width: 500px){#page-container{padding:40px}}#page-container #title-div{position:relative;margin-bottom:20px}#page-container #title-div .circle-shape-div{display:inline-block;position:absolute;top:10px;left:10px;background-color:#d7c9aa;height:50px;width:50px;border-radius:50%;padding:30px 10px 10px 0px;z-index:1}#page-container #title-div h1{position:relative;display:inline-block;font-size:25px;padding:25px 10px 10px 15px;z-index:2}#page-container #app-wrapper{display:flex;justify-content:center;align-items:center}@media(min-width: 500px){#page-container #app-wrapper{min-height:calc(100% - (60px))}}#app-container #instruction-div{overflow-wrap:normal;width:fit-content;max-width:300px;min-height:35px;margin:auto;border-radius:3px}@media(min-width: 1080px){#app-container #instruction-div{max-width:60%;margin-bottom:0px}}#app-container #instruction-div .instrution-h2{margin:auto;width:fit-content;font-size:14px;font-weight:100;text-align:center}@media(min-width: 1080px){#app-container #game-container #human-section.pre-start{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:2fr 5fr;padding:20px 20px 10px}}#app-container #game-container #human-section.pre-start #drag-instruction{display:none}@media(min-width: 1080px){#app-container #game-container #human-section.pre-start #drag-instruction{display:block;grid-area:1/2/2/3;width:341px;margin:5px auto 0px 20px;border:3px solid #7b673a;padding:10px;font-size:13px}}#app-container #game-container #human-section.pre-start #drag-instruction li{padding:2px}#app-container #game-container #human-section.pre-start #human-fleet{display:grid;gap:5px;grid-template-columns:repeat(3, 1fr);grid-template-rows:repeat(3, 1fr);width:fit-content;margin:10px auto 20px auto;align-items:center;justify-items:center}@media(min-width: 1080px){#app-container #game-container #human-section.pre-start #human-fleet{grid-area:2/2/3/3;margin:20px 20px 5px 20px;padding:10px 40px;border:3px solid #7b673a;border-radius:3px;display:grid;grid-template-columns:1fr 1fr;grid-template-rows:repeat(4, 1fr)}}#app-container #game-container #human-section.pre-start #human-fleet .drag-ship{border-radius:2px;border:1px solid #000;height:25px;background-color:#7b2d26;cursor:pointer}#app-container #game-container #human-section.pre-start #human-fleet .drag-ship:hover{background-color:#a23b32}#app-container #game-container #human-section.pre-start #human-fleet #drag-carrier{width:125px;grid-area:1/2/3/3}@media(min-width: 1080px){#app-container #game-container #human-section.pre-start #human-fleet #drag-carrier{grid-area:1/2/2/3}}#app-container #game-container #human-section.pre-start #human-fleet #drag-battleship{width:100px;grid-area:2/2/4/3}@media(min-width: 1080px){#app-container #game-container #human-section.pre-start #human-fleet #drag-battleship{grid-area:4/1/5/2}}#app-container #game-container #human-section.pre-start #human-fleet #drag-cruiser{width:75px;grid-area:3/1/4/2}@media(min-width: 1080px){#app-container #game-container #human-section.pre-start #human-fleet #drag-cruiser{grid-area:3/1/4/2}}#app-container #game-container #human-section.pre-start #human-fleet #drag-submarine{width:75px;grid-area:3/3/4/4}@media(min-width: 1080px){#app-container #game-container #human-section.pre-start #human-fleet #drag-submarine{grid-area:2/2/3/3}}#app-container #game-container #human-section.pre-start #human-fleet #drag-destroyer{width:50px;grid-area:2/1/3/2}@media(min-width: 1080px){#app-container #game-container #human-section.pre-start #human-fleet #drag-destroyer{grid-area:0/1/0/2}}#app-container #game-container #human-section.pre-start #human-fleet #drag-frigate{width:50px;grid-area:2/3/3/4}@media(min-width: 1080px){#app-container #game-container #human-section.pre-start #human-fleet #drag-frigate{grid-area:3/2/4/3}}#app-container #game-container #human-section.pre-start #human-fleet #drag-corvette{width:25px;grid-area:1/1/2/2}@media(min-width: 1080px){#app-container #game-container #human-section.pre-start #human-fleet #drag-corvette{grid-area:4/2/5/3}}#app-container #game-container #human-section.pre-start #human-fleet #drag-gunboat{width:25px;grid-area:1/3/2/4}@media(min-width: 1080px){#app-container #game-container #human-section.pre-start #human-fleet #drag-gunboat{grid-area:1/1/2/2}}#app-container #game-container #human-section.pre-start #human-grid{width:fit-content;margin:auto}@media(min-width: 1080px){#app-container #game-container #human-section.pre-start #human-grid{grid-area:1/1/3/2;margin-right:20px}}#app-container #button-div{display:flex;justify-content:center}#app-container #button-div #auto-place-div,#app-container #button-div #start-div{display:inline-block;margin:20px 15px 15px 10px}#app-container #button-div #auto-place-div button,#app-container #button-div #start-div button{cursor:pointer;text-decoration:none;font-family:"Courier New",Courier,monospace;font-weight:600;padding:10px;border:2px solid #7b673a;border-radius:20px;color:#251f11;background-color:#d7c9aa}#app-container #button-div #auto-place-div button:focus,#app-container #button-div #start-div button:focus{outline:none}#app-container #button-div #auto-place-div button:active,#app-container #button-div #start-div button:active{transform:scale(0.95)}.rendered-grid-div.game-start{display:grid;grid-template-columns:repeat(10, 1fr);grid-template-rows:repeat(10, 1fr);width:150px;height:150px;background-color:#19535f;margin:10px}@media(min-width: 1080px){.rendered-grid-div.game-start{width:200px;height:200px}}.rendered-grid-div.game-start .tile-div{border-radius:3px;border:#000 solid 1px}.rendered-grid-div.game-start .occupied{background:#0b3579;border:#d7c9aa solid 1px}.rendered-grid-div.game-start .hit{background-color:#7b2d26;border:#dbe2e7 solid 1px}.rendered-grid-div.game-start .miss span{background:#d7c9aa;border-radius:50%;height:7px;width:7px}@media(min-width: 1080px){.rendered-grid-div.game-start .miss span{width:10px;height:10px}}#game-container.game-start{display:grid;grid-template-columns:1fr 1fr;grid-template-rows:175px 1fr}@media(min-width: 1080px){#game-container.game-start{grid-template-columns:1fr 2fr 1fr;grid-template-rows:1fr;align-items:center;margin:20px 20px 20px}}#game-container.game-start #enemy-fleet{grid-area:1/2/2/3;margin:10px 25px}@media(min-width: 1080px){#game-container.game-start #enemy-fleet{grid-area:1/3/2/4;margin:20px auto;height:200px;width:200px;padding:20px;border:3px solid #7b673a;border-radius:3px}}#game-container.game-start #enemy-fleet .fleet-ship{margin:1px}#game-container.game-start #enemy-fleet .fleet-ship .ship-health{display:inline-block;margin:2px 2px 0px;border:1px #000 solid;border-radius:1px;height:10px;width:15px;background:#dbe2e7}#game-container.game-start #enemy-fleet .fleet-ship .health-hit{background:#7b2d26}#game-container.game-start #computer-grid{grid-area:2/1/3/3;margin:auto}@media(min-width: 1080px){#game-container.game-start #computer-grid{grid-area:1/2/2/3}}#game-container.game-start #computer-grid .rendered-grid-div{background-color:#0b3579;cursor:pointer}#game-container.game-start #computer-grid .rendered-grid-div .miss{border-radius:10px}@media(min-width: 1080px){#human-section.game-start{display:block;right:0px}}#drag-image{display:inline-block;position:absolute;top:-1000px;color:#faebd7;font-family:"Courier New",Courier,monospace;padding:1em 4em 1em 1em;overflow:hidden}#drag-image::after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:#000;-webkit-transform-origin:100% 0;-ms-transform-origin:100% 0;transform-origin:100% 0;-webkit-transform:skew(-45deg);-ms-transform:skew(-45deg);transform:skew(-45deg);z-index:-1}.dragenter-active{background-color:#6afafa}.dragleave-fade{background-color:#327777}.wiggle{animation:shake 1s cubic-bezier(0.36, 0.07, 0.19, 0.97) both;transform:translate3d(0, 0, 0);backface-visibility:hidden;perspective:1000px}@keyframes shake{0%{transform:rotate(0deg)}10%{transform:rotate(-10deg)}20%{transform:rotate(10deg)}30%{transform:rotate(0deg)}40%{transform:rotate(10deg)}50%{transform:rotate(-10deg)}60%{transform:rotate(0deg)}70%{transform:rotate(-10deg)}80%{transform:rotate(10deg)}90%{transform:rotate(0deg)}}.stagger-highlight{background-color:#6afafa}canvas{position:absolute;z-index:-9999}',""]),e.exports=t},function(e,t,r){"use strict";r.r(t);var n=function(e,t){var r=1*t,n=!1,a="xAxis",i=Array(t).fill(1);return{getName:function(){return e},getLength:function(){return t},getHealth:function(){return r},getSunk:function(){return n},getSections:function(){return i},getDirection:function(){return a},switchDirection:function(){a="xAxis"===a?"yAxis":"xAxis"},hit:function(e){i[e]=0,(r-=1)<=0&&(n=!0)},placed:!1}},a=function(e){for(var t=[],r=[],a=1;a<=10;a+=1)for(var i=1;i<=10;i+=1){var o={x:a,y:i,occupied:!1,firedAt:!1,shipNameRef:null,shipSectionIndexRef:null};r.push(o)}var c=n("Carrier",5),d=n("Battleship",4),u=n("Cruiser",3),s=n("Submarine",3),l=n("Destroyer",2),p=n("Frigate",2),f=n("Corvette",1),m=n("Gunboat",1);t.push(c,d,u,s,l,p,f,m);var g=function(e,t,n,a){r[e].occupied=t,r[e].shipNameRef=n,r[e].shipSectionIndexRef=a},h=function(e,t,n){var a=!1,i=e.getLength(),o=e.getDirection();if("xAxis"===o&&i+n<=11){for(var c=[],d=function(e){var a=r.findIndex((function(r){return r.x===t&&r.y===n+e}));c.push(r[a])},u=0;u<i;u+=1)d(u);c.some((function(e){return!0===e.occupied}))||(a=!0)}else if("yAxis"===o&&i+t<=11){for(var s=[],l=function(e){var a=r.findIndex((function(r){return r.x===t+e&&r.y===n}));s.push(r[a])},p=0;p<i;p+=1)l(p);s.some((function(e){return!0===e.occupied}))||(a=!0)}return a};return{getType:function(){return e},getTilesArray:function(){return r},getTileInfo:function(e){var t=r.findIndex((function(t){return t.x===e.x&&t.y===e.y}));return r[t]},getFleet:function(){return t},placeShip:function(e,t,n){var a=!1,i=e,o=h(e,t,n),c=e.getDirection(),d=e.getLength(),u=e.getName();if(o&&"xAxis"===c){for(var s=function(e){var a=r.findIndex((function(r){return r.x===t&&r.y===n+e}));g(a,!0,u,e)},l=0;l<d;l+=1)s(l);i.placed=!0,a=!0}if(o&&"yAxis"===c){for(var p=function(e){var a=r.findIndex((function(r){return r.x===t+e&&r.y===n}));g(a,!0,u,e)},f=0;f<d;f+=1)p(f);i.placed=!0,a=!0}return a},placeShipValid:h,shotHandler:function(e,n){var a=!1,i=r.findIndex((function(t){return t.x===e&&t.y===n})),o=r[i];return function(e){var t=!1;return!1===e.firedAt&&(t=!0),t}(o)&&(a=function(e){var r=!1,n=e,a=n.shipNameRef,i=n.shipSectionIndexRef;if(n.firedAt=!0,!0===n.occupied){var o=t.findIndex((function(e){return e.getName()===a}));t[o].hit(i),r=!0}return r}(o)),a},fleetSunkCheck:function(){return t.every((function(e){return!0===e.getSunk()}))},shipSunkCheck:function(e){var r=!1,n=t.find((function(t){return t.getName()===e}));return void 0!==n&&(r=n.getSunk()),r},resetTile:function(e){r.forEach((function(t){var r=t;t.shipNameRef===e&&(r.occupied=!1,r.firedAt=!1,r.shipNameRef=null,r.shipSectionIndexRef=null)}))}}},i=function(e){return{gameboard:a(e),makeAttack:function(e,t){e.gameboard.shotHandler(t.x,t.y)}}},o=[],c=function(e){o.length>0&&o.forEach((function(e){clearTimeout(e)}));var t=document.querySelector(".instrution-h2");t.innerText="";var r=0;!function n(){if(r<e.length){t.innerHTML+=e.charAt(r),r+=1;var a=setTimeout(n,40);o.push(a)}}()},d=function(){var e=function(e){c(e)};return{instructionTyper:e,clearGrid:function(e){var t=document.querySelector("#human-grid");"human"===e.getType()&&(t.innerHTML="")},renderGrid:function(e){var t=e.getTilesArray(),r=document.querySelector("#human-grid"),n=document.querySelector("#computer-grid"),a=document.createElement("div");a.classList.add("rendered-grid-div");var i=document.createElement("canvas");a.appendChild(i);for(var o=0;o<t.length;o+=1){var c=document.createElement("div");c.classList.add("tile-div"),c.classList.add("js-data-xy-".concat(t[o].x,"-").concat(t[o].y));var d="".concat(t[o].x,",").concat(t[o].y);if(c.setAttribute("data-xy-ref",d),"human"===e.getType()){var u=t[o].shipNameRef;c.setAttribute("data-ship-ref",u);var s=t[o].shipSectionIndexRef;c.setAttribute("data-sec-ref",s),!0===t[o].occupied&&c.classList.add("occupied"),!0===t[o].occupied&&0===t[o].shipSectionIndexRef&&c.setAttribute("draggable",!0)}var l=document.createElement("span");c.appendChild(l),a.appendChild(c)}"human"===e.getType()?r.appendChild(a):n.appendChild(a)},changeHumanGrid:function(){document.querySelector("#human-grid .rendered-grid-div").classList.add("game-start")},changeButtons:function(){var e=document.querySelector("#start-button"),t=document.querySelector("#auto-place-div");e.innerHTML="New Game",e.addEventListener("click",(function(){window.location.reload()})),t.parentNode.removeChild(t)},changeLayout:function(){document.querySelector("#game-container").classList.add("game-start"),document.querySelector("#human-section").classList.remove("pre-start"),document.querySelector("#human-section").classList.add("game-start");var e=document.querySelector("#drag-instruction");e.parentNode.removeChild(e)},renderEnemyFleet:function(e){var t=document.querySelector("#enemy-fleet"),r=document.createElement("h3");r.innerText="Enemy Fleet",r.id="enemy-title",t.appendChild(r);for(var n=e.gameboard.getFleet(),a=[],i=0;i<n.length;i+=1){var o=document.createElement("div");o.classList.add("fleet-ship"),o.setAttribute("ShipRef",n[i].getName());for(var c=n[i].getLength(),d=1;d<=c;d+=1){var u=document.createElement("span"),s="".concat(n[i].getName()).concat(d);u.setAttribute("data-health-ref",s),u.classList.add("ship-health"),o.appendChild(u)}a.push(o)}a.reverse(),a.forEach((function(e){t.appendChild(e)}))},updateTile:function(e,t){var r=e;!0===t.occupied?r.classList.add("hit"):r.classList.add("miss")},updateFleet:function(e,t){if(e.occupied){var r=t.filter((function(t){return t.getName()===e.shipNameRef}))[0].getHealth()+1,n="".concat(e.shipNameRef).concat(r);document.querySelector('[data-health-ref="'.concat(n,'"]')).classList.add("health-hit")}},disablePlaceShip:function(e){var t=document.querySelector("#".concat(e));t.style.backgroundColor="#DBE2E7",t.setAttribute("draggable",!1),t.style.cursor="auto"},gameOver:function(t){e("Player"===("computer"===t?"Player":"Computer")?"VICTORY!":"Defeat. Enemy destroyed your fleet.")}}},u=function(e){var t=function(){return Math.floor(10*Math.random())+1};e.getFleet().forEach((function(e){Math.floor(10*Math.random())+1>5&&e.switchDirection()}));e.getFleet().forEach((function(r){!function r(n){var a=t(),i=t();e.placeShipValid(n,a,i)?e.placeShip(n,a,i):r(n)}(r)}))},s=function(e,t){var r=50*t;"null"===e.getAttribute("data-ship-ref")&&setTimeout((function(){e.classList.add("stagger-highlight"),function(e){setTimeout((function(){e.classList.remove("stagger-highlight")}),200)}(e)}),r)},l=function(e){var t=e.target.getAttribute("data-ship-ref"),r=e.target.getAttribute("data-xy-ref").split(","),n=r[0],a=r[1],i=[],o=[],c=[],d=[];if("null"===t){for(var u=Number(n);u<=10;u+=1){var l=document.querySelector(".js-data-xy-".concat(u,"-").concat(a));o.push(l)}for(var p=Number(a);p<=10;p+=1){var f=document.querySelector(".js-data-xy-".concat(n,"-").concat(p));i.push(f)}for(var m=Number(n);m>0;m-=1){var g=document.querySelector(".js-data-xy-".concat(m,"-").concat(a));c.push(g)}for(var h=Number(a);h>0;h-=1){var v=document.querySelector(".js-data-xy-".concat(n,"-").concat(h));d.push(v)}}for(var b=0;b<10;b+=1)o[b]&&s(o[b],b),i[b]&&s(i[b],b),c[b]&&s(c[b],b),d[b]&&s(d[b],b)};function p(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var m=function(e,t){var r,n,a=e.getFleet(),i=!1,o=function(e){for(var t=[],n=e.target.getAttribute("data-xy-ref").split(","),a=n[0],i=n[1],o=0;o<r[0].getLength();o+=1)if("xAxis"===r[0].getDirection()){var c=parseInt(i,10)+o,d=document.querySelector(".js-data-xy-".concat(a,"-").concat(c));null!=d&&t.push(d)}else if("yAxis"===r[0].getDirection()){var u=parseInt(a,10)+o,s=document.querySelector(".js-data-xy-".concat(u,"-").concat(i));null!=s&&t.push(s)}return t},c=function(e){return p(document.querySelectorAll("[data-ship-ref=".concat(e,"]"))).find((function(e){return"0"===e.getAttribute("data-sec-ref")}))},d=function(t){var r=a.filter((function(e){return e.getName()===t})),n=c(t).getAttribute("data-xy-ref").split(",");e.placeShip(r[0],Number(n[0]),Number(n[1]))},u=function(e){n?(e.filter((function(e){return!n.includes(e)})).forEach((function(e){setTimeout((function(){e.classList.remove("dragenter-active"),e.classList.add("dragleave-fade")}),100),setTimeout((function(){e.classList.remove("dragleave-fade")}),400)})),n=null):e.forEach((function(e){setTimeout((function(){e.classList.remove("dragenter-active"),e.classList.add("dragleave-fade")}),100),setTimeout((function(){e.classList.remove("dragleave-fade")}),400)}))},s=function(e){e.forEach((function(e){e.classList.add("dragenter-active")}))},f=function(e){var t=e.target.getAttribute("data-ship-ref");c(t).classList.add("wiggle")},m=function(e){var t=e.target.getAttribute("data-ship-ref");c(t).classList.remove("wiggle")},g=function(e){var t=document.createElement("div");return t.id="drag-image",t.innerHTML="".concat(e),document.body.appendChild(t),t},h=function(){var e=document.querySelector("#drag-image");e&&e.parentNode.removeChild(e)},v=function(r){var n=r.target.getAttribute("data-ship-ref");null!==n&&(d(n),t.clearGrid(e),t.renderGrid(e),A()),h()},b=function(r){r.preventDefault();var n=r.dataTransfer.getData("text"),s=n.slice(5).charAt(0).toUpperCase()+n.slice(6),l=a.filter((function(e){return e.getName()===s})),p=r.target.getAttribute("data-xy-ref").split(","),f=c(s);if(f&&e.resetTile(s),e.placeShipValid(l[0],Number(p[0]),Number(p[1])))e.resetTile(s),e.placeShip(l[0],Number(p[0]),Number(p[1])),t.disablePlaceShip(n),L(n),t.clearGrid(e),t.renderGrid(e),A(),e.getFleet().every((function(e){return!0===e.placed}))&&!1===i&&(t.instructionTyper("Fleet positioned. Battle."),i=!0);else{var m=o(r);u(m),f&&d(s),t.clearGrid(e),t.renderGrid(e),A()}h()},x=function(e){var t=o(e);u(t)},y=function(e){var t=o(e);n=t,s(t)},w=function(e){e.dataTransfer.setData("text",e.target.id);var t=e.target.getAttribute("data-ship"),n=g(t);e.dataTransfer.setDragImage(n,45,-10),r=a.filter((function(e){return e.getName()===t}))},S=function(e){var t=e.target.getAttribute("data-ship-ref"),n=g(t);e.dataTransfer.setDragImage(n,45,-10);var i=t.toLowerCase();e.dataTransfer.setData("text","drag-".concat(i)),r=a.filter((function(e){return e.getName()===t})),document.querySelectorAll("[data-ship-ref=".concat(t,"]")).forEach((function(e){e.classList.remove("occupied")}))},k=function(r){var n=!1,i=r.target.getAttribute("data-ship-ref"),o=document.querySelectorAll("[data-ship-ref=".concat(i,"]")),c=a.filter((function(e){return e.getName()===i})),d=r.target.getAttribute("data-xy-ref").split(",");e.resetTile(i),c[0].switchDirection(),e.placeShipValid(c[0],Number(d[0]),Number(d[1]))?(e.placeShip(c[0],Number(d[0]),Number(d[1])),n=!0):(c[0].switchDirection(),e.placeShip(c[0],Number(d[0]),Number(d[1]))),t.clearGrid(e),t.renderGrid(e),A(),!0===n&&function(e){var t=p(e),r=p(document.querySelectorAll(".tile-div")).filter((function(e){return t.find((function(t){return e.dataset.xyRef===t.dataset.xyRef}))}));s(r),u(r)}(o)},L=function(e){document.querySelector("#".concat(e)).removeEventListener("dragstart",w)},A=function(){var e=document.querySelectorAll(".drag-ship"),t=p(document.querySelectorAll(".tile-div")),r=t.filter((function(e){return e.classList.contains("occupied")})).filter((function(e){return"0"!==e.getAttribute("data-sec-ref")})),n=document.querySelectorAll('[data-sec-ref="0"]');e.forEach((function(e){e.addEventListener("dragstart",w,!1)})),t.forEach((function(e){e.addEventListener("dragover",(function(e){return e.preventDefault()})),e.addEventListener("drop",b,!1),e.addEventListener("dragenter",y,!1),e.addEventListener("dragleave",x,!1),e.addEventListener("touchstart",l)})),r.forEach((function(e){e.addEventListener("mouseover",f,!1),e.addEventListener("mouseout",m,!1)})),n.forEach((function(e){e.addEventListener("dragstart",S,!1),e.addEventListener("dblclick",k),e.addEventListener("touchstart",k)})),document.addEventListener("dragend",v)};return{addListeners:A,endDrag:function(){t.clearGrid(e),t.renderGrid(e);var r=document.querySelectorAll('[data-sec-ref="0"]');r.forEach((function(e){e.style.cursor="auto"}));var n=document.querySelectorAll(".drag-ship"),a=p(document.querySelectorAll(".tile-div")),i=a.filter((function(e){return e.classList.contains("occupied")})).filter((function(e){return"0"!==e.getAttribute("data-sec-ref")}));n.forEach((function(e){e.removeEventListener("dragstart",w)})),a.forEach((function(e){e.removeEventListener("dragover",(function(e){return e.preventDefault()})),e.removeEventListener("drop",b,!1),e.removeEventListener("dragenter",y,!1),e.removeEventListener("dragleave",x,!1)})),i.forEach((function(e){e.removeEventListener("mouseover",f,!1),e.removeEventListener("mouseout",m,!1)})),r.forEach((function(e){e.removeEventListener("dragstart",S,!1),e.removeEventListener("dblclick",k),e.removeEventListener("touchstart",k)})),document.removeEventListener("dragend",v)},removeDragShips:function(){var e=document.querySelector("#human-fleet");e.parentNode.removeChild(e)}}};function g(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var v=function(e){var t,r,n,a,i,o,c,d=!1,u=[],s=[],l=e.getTilesArray(),p=g(l),f=function(e){o=e.x,c=e.y,n=!0===e.occupied,a=e.shipNameRef===i.getName(),s.push(e);var t=p.findIndex((function(t){return t.x===e.x&&t.y===e.y}));p.splice(t,1),r=e},m=function(){var e=p.filter((function(e){return e.shipNameRef===i.getName()})),t=e[Math.floor(Math.random()*e.length)];d=!0,f(t)},h=function(){var e=i.getHealth(),o=i.getLength();if(1===s.length){var c=r.x,g=r.y;(function(e,t){var r=e-1>=1?l.find((function(r){return r.x===e-1&&r.y===t})):null,n=e+1<=10?l.find((function(r){return r.x===e+1&&r.y===t})):null,a=t-1>=1?l.find((function(r){return r.x===e&&r.y===t-1})):null,i=t+1<=10?l.find((function(r){return r.x===e&&r.y===t+1})):null,o=[];return[r,n,a,i].forEach((function(e){null!==e&&o.push(e)})),o})(c,g).forEach((function(e){!1===e.firedAt&&u.push(e)}));var h=Math.floor(Math.random()*u.length),v=u[h];f(v),u.splice(h,1)}else if(!1===a&&o-e==1){var b=Math.floor(Math.random()*u.length),x=u[b];f(x),u.splice(b,1)}else if(!0===d)m();else if(!0===a&&o-e>=2){var y=i.getDirection().charAt(0);!function(e){return("x"===e?s.filter((function(e){return 1===e.y||10===e.y})):s.filter((function(e){return 1===e.x||10===e.x}))).length>0}(y)?function(e){var n="x"===e?"y":"x",a=r["".concat(e)];if(t["".concat(n)]>r["".concat(n)]){var i=r["".concat(n)]-1,o=p.filter((function(t){return t["".concat(n)]===i&&t["".concat(e)]===a}));1===o.length?f(o[0]):m()}else{var c=r["".concat(n)]+1,d=p.filter((function(t){return t["".concat(n)]===c&&t["".concat(e)]===a}));1===d.length?f(d[0]):m()}}(y):m()}else!1===n&&o-e>=2&&m()};function v(){var d=Math.floor(Math.random()*p.length),u=p[d];o=u.x,c=u.y,r=u,null!==u.shipNameRef&&function(r){var o=r.shipNameRef;i=e.getFleet().find((function(e){return e.getName()===o})),s.push(r),n=!0,t=r,void 0===a&&(a=!0)}(u),p.splice(d,1)}var b=function(){!0===i.getSunk()?(i=void 0,s=[],[],u=[],a=void 0,d=!1,function(){var o=e.getFleet().filter((function(e){return!1===e.getSunk()&&e.getHealth()<e.getLength()}));if(0===o.length)v();else{i=o[0];var c=l.filter((function(e){return e.shipNameRef===i.getName()&&!0===e.firedAt}));s.push(c[0]),r=c[0],t=c[0],n=!0,a=!0,h()}}()):h()};return{chooseTarget:function(){return void 0===r?v():void 0!==i?b():v(),{x:o,y:c}}}},b=function(){var e=i("human"),t=i("computer"),r=v(e.gameboard),n=d(),a=m(e.gameboard,n);u(t.gameboard),n.renderGrid(e.gameboard),a.addListeners();var o=function(){var r=!1;return!0===e.gameboard.fleetSunkCheck()&&(n.gameOver(e.gameboard.getType()),r=!0),!0===t.gameboard.fleetSunkCheck()&&(n.gameOver(t.gameboard.getType()),r=!0),r},c=function(a){var i=a.target.getAttribute("data-xy-ref").split(","),c={x:Number(i[0]),y:Number(i[1])};e.makeAttack(t,c);var d=t.gameboard.getTileInfo(c);t.gameboard.shipSunkCheck(d.shipNameRef)&&n.instructionTyper("Enemy ".concat(d.shipNameRef," is Sunk")),n.updateTile(a.target,d),l(),n.updateFleet(d,t.gameboard.getFleet()),setTimeout((function(){o()||function(){var a=r.chooseTarget(),i="".concat(a.x,",").concat(a.y),c=document.querySelector('#human-grid [data-xy-ref="'.concat(i,'"]')),d=e.gameboard.getTileInfo(a);t.makeAttack(e,a),e.gameboard.shipSunkCheck(d.shipNameRef)&&n.instructionTyper("Player's ".concat(d.shipNameRef," is Sunk")),n.updateTile(c,d),setTimeout((function(){o()||s()}),100)}()}),200)},s=function(){document.querySelectorAll("#computer-grid .tile-div").forEach((function(e){e.classList.contains("hit")||e.classList.contains("miss")||e.addEventListener("click",c)}))},l=function(){document.querySelectorAll("#computer-grid .tile-div").forEach((function(e){e.removeEventListener("click",c)}))};document.querySelector("#auto-button").addEventListener("click",(function(){e.gameboard.getFleet().forEach((function(t){e.gameboard.resetTile(t.getName());var r=t.getName().toLowerCase(),a="drag-".concat(r);n.disablePlaceShip(a)})),u(e.gameboard),n.clearGrid(e.gameboard),n.renderGrid(e.gameboard),a.addListeners(),n.instructionTyper("Fleet positioned. Battle.")}));var p=document.querySelector("#start-button");p.addEventListener("click",(function r(){e.gameboard.getFleet().every((function(e){return!0===e.placed}))&&(p.removeEventListener("click",r),a.endDrag(),a.removeDragShips(),n.renderGrid(t.gameboard),n.changeHumanGrid(),n.renderEnemyFleet(t),n.changeButtons(),n.changeLayout(),n.instructionTyper("Engage the Enemy"),s())})),n.instructionTyper("Place your ships..... or auto place (sorry mobile)")};r(2),r(4);b()}]);